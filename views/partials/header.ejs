<header class="bg-gray-900 shadow-lg">
  <nav class="relative mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex h-16">
      <a href="/" class="flex-shrink-0 flex items-center group">
        <span class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
          AuroraExplorer
        </span>
      </a>

      <!-- desktop menu -->
      <div class="hidden md:flex grow justify-end items-center space-x-8">
        <div class="flex space-x-6">
          <a href="/"
            class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-md font-medium transition-all duration-300 hover:bg-gray-700/30">
            Home
          </a>
          <a href="/forecast"
            class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-md font-medium transition-all duration-300 hover:bg-gray-700/30">
            Forecast
          </a>
          <a href="/aurorex"
            class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-md font-medium transition-all duration-300 hover:bg-gray-700/30">
            Aurorex
          </a>
          <a href="/aurorex/live-map"
            class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-md font-medium transition-all duration-300 hover:bg-gray-700/30">
            Live Map
          </a>
          <a href="/guide"
            class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-md font-medium transition-all duration-300 hover:bg-gray-700/30">
            Guide
          </a>
        </div>

        <% if (user) { %>
          <a href="/users/profile/<%= user._id %>" class="flex items-center">
            <img src="<%= user.profilePicture %>" alt="Profile"
              class="w-8 h-8 rounded-full object-cover border-2 border-white hover:border-blue-400 transition duration-300">
          </a>
          <% } else { %>
            <a href="/users/login" class="ml-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 
            text-white px-6 py-2 rounded-full text-m font-semibold shadow-lg 
            transform transition-all duration-300 hover:scale-105">
              Login
            </a>
            <% } %>


      </div>

      <!-- mobile menu button -->
      <button id="menuToggle"
        class="md:hidden p-2 rounded-lg hover:bg-gray-800/50 transition-all duration-300 absolute top-2 right-4 ">
        <svg class="w-8 h-8 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- mobile menu -->
    <div id="mobileMenu"
      class="md:hidden fixed inset-0 z-50 bg-gray-900/95 backdrop-blur-sm hidden transition-opacity duration-300">
      <div class="relative h-full flex flex-col items-center pt-20 space-y-8">
        <button id="closeMenu" class="absolute top-6 right-6 p-2 text-gray-400 hover:text-white">
          <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>

        <div class="flex flex-col items-center space-y-6 text-lg">
          <a href="/"
            class="text-gray-300 hover:text-white px-4 py-2 transition-all duration-300 transform hover:scale-105">
            Home
          </a>
          <a href="/forecast"
            class="text-gray-300 hover:text-white px-4 py-2 transition-all duration-300 transform hover:scale-105">
            Forecast
          </a>
          <a href="/aurorex"
            class="text-gray-300 hover:text-white px-4 py-2 transition-all duration-300 transform hover:scale-105">
            Aurorex
          </a>
          <a href="/aurorex/live-map"
            class="text-gray-300 hover:text-white px-4 py-2 transition-all duration-300 transform hover:scale-105">
            Live Map
          </a>
          <a href="/guide"
            class="text-gray-300 hover:text-white px-4 py-2 transition-all duration-300 transform hover:scale-105">
            Guide
          </a>
        </div>


        <% if (user) { %>
          <a href="/users/profile/<%= user._id %>" class="flex items-center px-4 py-2 hover:bg-gray-800">
            <img src="<%= user.profilePicture %>" alt="Profile"
              class="w-10 h-10 rounded-full object-cover border-2 border-white">
          </a>
          <% } else { %>
            <a href="/users/login" class="mt-8 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 
            text-white px-8 py-3 rounded-full text-md font-semibold shadow-lg 
            transform transition-all duration-300 hover:scale-105">
              Login
            </a>
            <% } %>




      </div>
    </div>
  </nav>

  <script>
    const menuToggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMenu = document.getElementById('closeMenu');

    function toggleMenu() {
      mobileMenu.classList.toggle('hidden');
      document.body.classList.toggle('overflow-hidden');
    }

    menuToggle.addEventListener('click', toggleMenu);
    closeMenu.addEventListener('click', toggleMenu);
    // close menu on ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
        toggleMenu();
      }
    });
  </script>
</header>